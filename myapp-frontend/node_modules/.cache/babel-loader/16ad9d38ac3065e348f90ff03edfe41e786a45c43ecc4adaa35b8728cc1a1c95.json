{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{Box,TextField,Button,Typography,Paper}from\"@mui/material\";import{API_URL}from'../config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Signup(_ref){let{onSignup}=_ref;const[username,setUsername]=useState(\"\");const[password,setPassword]=useState(\"\");const[error,setError]=useState(null);const[success,setSuccess]=useState(null);const[capsLock,setCapsLock]=useState(false);const handleKeyDown=e=>{if(e.getModifierState(\"CapsLock\")){setCapsLock(true);}else{setCapsLock(false);}};const handleKeyUp=e=>{if(!e.getModifierState(\"CapsLock\")){setCapsLock(false);}};const submit=async e=>{e.preventDefault();setError(null);setSuccess(null);try{await axios.post(`${API_URL}/users/signup`,{username,password});setSuccess(\"Signup successful! You can now log in.\");setUsername(\"\");setPassword(\"\");onSignup();}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.detail)||\"Signup failed\");}};return/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{maxWidth:400,margin:\"40px auto\",padding:4,bgcolor:\"#f9f9f9\",borderRadius:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",component:\"h1\",sx:{mb:3,textAlign:\"center\"},children:\"Sign Up\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:submit,noValidate:true,children:[/*#__PURE__*/_jsx(TextField,{label:\"Username\",variant:\"outlined\",fullWidth:true,required:true,margin:\"normal\",value:username,onChange:e=>setUsername(e.target.value),autoFocus:true}),/*#__PURE__*/_jsx(TextField,{label:\"Password\",type:\"password\",variant:\"outlined\",fullWidth:true,required:true,margin:\"normal\",value:password,onChange:e=>setPassword(e.target.value),onKeyDown:handleKeyDown,onKeyUp:handleKeyUp}),capsLock&&/*#__PURE__*/_jsx(Typography,{color:\"error\",sx:{mt:1,mb:2},children:\"Caps Lock is ON\"}),error&&/*#__PURE__*/_jsx(Typography,{color:\"error\",sx:{mt:1,mb:2},children:error}),success&&/*#__PURE__*/_jsx(Typography,{color:\"success.main\",sx:{mt:1,mb:2},children:success}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",fullWidth:true,sx:{mt:2},children:\"Sign Up\"})]})]});}export default Signup;","map":{"version":3,"names":["React","useState","axios","Box","TextField","Button","Typography","Paper","API_URL","jsx","_jsx","jsxs","_jsxs","Signup","_ref","onSignup","username","setUsername","password","setPassword","error","setError","success","setSuccess","capsLock","setCapsLock","handleKeyDown","e","getModifierState","handleKeyUp","submit","preventDefault","post","err","_err$response","_err$response$data","response","data","detail","elevation","sx","maxWidth","margin","padding","bgcolor","borderRadius","children","variant","component","mb","textAlign","onSubmit","noValidate","label","fullWidth","required","value","onChange","target","autoFocus","type","onKeyDown","onKeyUp","color","mt"],"sources":["/home/flamedphoenix/app/myapp-frontend/src/components/Signup.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { Box, TextField, Button, Typography, Paper } from \"@mui/material\";\nimport { API_URL } from '../config';\n\nfunction Signup({ onSignup }) {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [capsLock, setCapsLock] = useState(false);\n\n  const handleKeyDown = (e) => {\n    if (e.getModifierState(\"CapsLock\")) {\n      setCapsLock(true);\n    } else {\n      setCapsLock(false);\n    }\n  };\n  const handleKeyUp = (e) => {\n    if (!e.getModifierState(\"CapsLock\")) {\n      setCapsLock(false);\n    }\n  };\n\n  const submit = async (e) => {\n    e.preventDefault();\n    setError(null);\n    setSuccess(null);\n\n    try {\n      await axios.post(`${API_URL}/users/signup`, {\n        username,\n        password,\n      });\n      setSuccess(\"Signup successful! You can now log in.\");\n      setUsername(\"\");\n      setPassword(\"\");\n      onSignup();\n    } catch (err) {\n      setError(err.response?.data?.detail || \"Signup failed\");\n    }\n  };\n\n  return (\n    <Paper\n      elevation={3}\n      sx={{\n        maxWidth: 400,\n        margin: \"40px auto\",\n        padding: 4,\n        bgcolor: \"#f9f9f9\",\n        borderRadius: 2,\n      }}\n    >\n      <Typography variant=\"h5\" component=\"h1\" sx={{ mb: 3, textAlign: \"center\" }}>\n        Sign Up\n      </Typography>\n      <Box component=\"form\" onSubmit={submit} noValidate>\n        <TextField\n          label=\"Username\"\n          variant=\"outlined\"\n          fullWidth\n          required\n          margin=\"normal\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          autoFocus\n        />\n        <TextField\n          label=\"Password\"\n          type=\"password\"\n          variant=\"outlined\"\n          fullWidth\n          required\n          margin=\"normal\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          onKeyDown={handleKeyDown}\n          onKeyUp={handleKeyUp} \n        />\n         {capsLock && (\n          <Typography color=\"error\" sx={{ mt: 1, mb: 2 }}>\n            Caps Lock is ON\n          </Typography>\n        )}\n\n        {error && (\n          <Typography color=\"error\" sx={{ mt: 1, mb: 2 }}>\n            {error}\n          </Typography>\n        )}\n        {success && (\n          <Typography color=\"success.main\" sx={{ mt: 1, mb: 2 }}>\n            {success}\n          </Typography>\n        )}\n        <Button\n          type=\"submit\"\n          variant=\"contained\"\n          color=\"primary\"\n          fullWidth\n          sx={{ mt: 2 }}\n        >\n          Sign Up\n        </Button>\n      </Box>\n    </Paper>\n  );\n}\n\nexport default Signup;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}